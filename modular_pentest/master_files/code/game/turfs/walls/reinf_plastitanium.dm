// Reinforced plastitanium walls //

/turf/closed/wall/r_wall/plastitanium
	name = "reinforced plastitanium wall"
	desc = "A durable wall of reinforced plastitanium."
	icon = 'icons/turf/walls/plastitanium_wall.dmi'
	icon_state = "plastitanium_wall-0"
	base_icon_state = "plastitanium_wall"
	sheet_type = /obj/item/stack/sheet/mineral/plastitanium
	girder_type = /obj/structure/girder/reinforced
	explosion_block = 4
	rad_insulation = RAD_HEAVY_INSULATION
	max_integrity = 1400
	smoothing_flags = SMOOTH_BITMASK | SMOOTH_DIAGONAL_CORNERS
	smoothing_groups = list(SMOOTH_GROUP_CLOSED_TURFS, SMOOTH_GROUP_WALLS, SMOOTH_GROUP_PLASTITANIUM_WALLS)
	canSmoothWith = list(SMOOTH_GROUP_PLASTITANIUM_WALLS, SMOOTH_GROUP_WALLS, SMOOTH_GROUP_AIRLOCK, SMOOTH_GROUP_SHUTTLE_PARTS)

/obj/structure/girder/attackby(obj/item/W, mob/user, params)
	if(istype(W, /obj/item/stack/sheet/mineral/plastitanium))
		var/obj/item/stack/sheet/mineral/plastitanium/S = W
		if(istype(src, /obj/structure/girder/reinforced))
			if(S.get_amount() >= 2)
				to_chat(user, "<span class='notice'>You start adding plastitanium plating...</span>")
				if(do_after(user, 40, target = src))
					if(S.get_amount() < 2)
						return
					S.use(2)
					var/turf/T = get_turf(src)
					T.PlaceOnTop(/turf/closed/wall/r_wall/plastitanium)
					transfer_fingerprints_to(T)
					qdel(src)
					to_chat(user, "<span class='notice'>You finish reinforcing the plastitanium wall.</span>")
			else
				to_chat(user, "<span class='warning'>You need two sheets of metal to finish the wall!</span>")
			return

	. = ..()
